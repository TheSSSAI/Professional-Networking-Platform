sequenceDiagram
    participant "Administrator (SRE)" as AdministratorSRE
    participant "AWS Management Console" as AWSManagementConsole
    participant "AWS RDS Service API" as AWSRDSServiceAPI
    participant "Kubernetes API Server (EKS)" as KubernetesAPIServerEKS
    participant "Application Services" as ApplicationServices

    activate AWSManagementConsole
    AdministratorSRE->>AWSManagementConsole: 1. 1. Logs into AWS Console with IAM credentials
    AWSManagementConsole-->>AdministratorSRE: Displays AWS Console dashboard
    AdministratorSRE->>AWSManagementConsole: 2. 2. Initiates Point-in-Time Recovery for production DB
    activate AWSRDSServiceAPI
    AWSManagementConsole->>AWSRDSServiceAPI: 3. 3. RestoreDBInstanceToPointInTime(params)
    AWSRDSServiceAPI-->>AWSManagementConsole: Restore initiated response (200 OK)
    AWSRDSServiceAPI->>AWSRDSServiceAPI: 3.1. 3a. Provisions new DB instance resources
    AWSRDSServiceAPI->>AWSRDSServiceAPI: 3.2. 3b. Restores latest full backup from S3
    AWSRDSServiceAPI->>AWSRDSServiceAPI: 3.3. 3c. Replays transaction logs to target timestamp
    AWSRDSServiceAPI->>AWSManagementConsole: 4. 4. Emits 'RDS-EVENT-0006: DB instance created' event
    AWSManagementConsole-->>AWSRDSServiceAPI: Updates UI status to 'Available'
    activate KubernetesAPIServerEKS
    AdministratorSRE->>KubernetesAPIServerEKS: 5. 5. Updates database connection secret (kubectl apply -f ...)
    KubernetesAPIServerEKS-->>AdministratorSRE: secret/db-connection updated
    activate ApplicationServices
    KubernetesAPIServerEKS->>ApplicationServices: 6. 6. Triggers rolling restart of deployments
    AdministratorSRE->>ApplicationServices: 7. 7. Performs data integrity validation checks
    ApplicationServices-->>AdministratorSRE: Validation success/failure report
    AdministratorSRE->>AdministratorSRE: 8. 8. Declares incident resolved and returns system to service

    note over AdministratorSRE: Post-restoration, an automated process must be run to re-delete user data based on the account de...

    deactivate ApplicationServices
    deactivate KubernetesAPIServerEKS
    deactivate AWSRDSServiceAPI
    deactivate AWSManagementConsole
