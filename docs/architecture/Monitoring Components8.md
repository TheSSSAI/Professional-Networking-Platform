[{'id': 'telemetry-instrumentation', 'name': 'Unified Telemetry Instrumentation', 'type': 'TelemetryCollection', 'description': 'Provides unified instrumentation for all services to collect metrics, logs, and traces as specified in REQ-1-083. This is the foundational component for all observability.', 'provider': 'OpenTelemetry', 'features': ['Auto-instrumentation for Node.js (NestJS) and web (Next.js) frameworks.', 'Generates application metrics (e.g., request latency, error rates).', 'Produces structured logs with trace context.', 'Creates and propagates distributed traces across microservices (gRPC) and from the API Gateway.', 'Exports telemetry data via OTLP (OpenTelemetry Protocol) to backend systems.'], 'configuration': {'ServiceName': "Per-service (e.g., 'user-profile-service')", 'ExporterEndpoint': 'Configured via environment variables for Jaeger/Loki/Prometheus', 'TraceSampler': 'Probabilistic (e.g., 5% of traces)', 'ResourceDetectors': 'Enabled for AWS and Kubernetes metadata'}}, {'id': 'metrics-and-alerting-platform', 'name': 'Metrics and Alerting Platform', 'type': 'MetricsAndAlerting', 'description': 'Collects, stores, and analyzes time-series metrics from all system components and triggers alerts based on predefined thresholds, as required by REQ-1-083 and REQ-1-084.', 'provider': 'Prometheus & Alertmanager', 'features': ['Scrapes metrics from OpenTelemetry-instrumented services.', 'Integrates with AWS CloudWatch exporter for infrastructure metrics (RDS, ElastiCache, EKS).', 'Tracks key system health indicators: CPU/memory utilization, API error rates, and P95 latency (REQ-1-084).', 'Tracks key business metrics: user sign-ups, active users, posts created (REQ-1-084).', 'Defines alert rules in PromQL for critical conditions.', 'Integrates with PagerDuty for critical alert routing (REQ-1-084).'], 'configuration': {'ScrapeInterval': '30s', 'AlertingRules': 'Defined for high latency (>200ms P95), high error rates (>1%), and high resource utilization (>80%).', 'PagerDutyWebhookURL': 'Configured in Alertmanager for critical alerts.'}}, {'id': 'centralized-log-aggregation', 'name': 'Centralized Log Aggregation', 'type': 'LogAggregation', 'description': 'Aggregates logs from all microservices and infrastructure components into a central, searchable platform as specified in REQ-1-083.', 'provider': 'Loki', 'features': ['Receives logs from OpenTelemetry collectors.', 'Indexes log metadata (labels) for efficient querying, not full-text content.', "Correlates logs with traces and metrics using shared labels like 'traceId' and 'pod_name'.", 'Provides a query language (LogQL) for log searching and analysis.', 'Manages log retention according to data retention policies (REQ-1-093).'], 'configuration': {'RetentionPeriod': '12 months for audit logs, 30 days for debug/info logs.', 'IngestionEndpoint': 'OpenTelemetry Loki Exporter configured in services.', 'MaxStreamLabels': '15'}}, {'id': 'distributed-tracing-system', 'name': 'Distributed Tracing System', 'type': 'DistributedTracing', 'description': 'Captures and visualizes end-to-end request flows across the microservices architecture, essential for debugging and performance analysis in a distributed system (REQ-1-083).', 'provider': 'Jaeger', 'features': ['Ingests trace data from OpenTelemetry-instrumented services via OTLP.', 'Visualizes service dependency maps.', 'Analyzes request paths to identify performance bottlenecks and sources of errors.', 'Allows searching for traces based on tags (e.g., userId, endpoint, status code).', 'Provides detailed timing information for each operation (span) within a trace.'], 'configuration': {'IngestionProtocol': 'OTLP/gRPC', 'StorageBackend': 'Configured for scalable storage (e.g., OpenSearch or Cassandra).', 'DefaultSamplingStrategy': 'Remote/Head-based sampling controlled by Jaeger Agent.'}}, {'id': 'observability-visualization-ui', 'name': 'Observability Visualization UI', 'type': 'Visualization', 'description': 'A unified dashboard and visualization platform for all collected observability data (metrics, logs, traces), as required by REQ-1-083, providing a single pane of glass for monitoring.', 'provider': 'Grafana', 'features': ['Integrates with Prometheus, Loki, and Jaeger as data sources.', 'Provides pre-built dashboards for Kubernetes (EKS) cluster health.', 'Displays custom dashboards for application performance (latency, errors per REQ-1-051) and business KPIs (sign-ups, posts per REQ-1-084).', 'Allows seamless switching between metrics, logs, and traces for a given event.', 'Visualizes alert states from Prometheus Alertmanager.'], 'configuration': {'DataSources': 'Prometheus, Loki, Jaeger endpoints.', 'ProvisionedDashboards': 'Kubernetes Cluster Health, Microservice Performance, Business KPIs.', 'UserAuthentication': "Integrated with company's SSO for secure access."}}, {'id': 'real-user-monitoring', 'name': 'Real User Monitoring (RUM)', 'type': 'UserExperienceMonitoring', 'description': "Monitors the frontend application's performance from the end-user's perspective to ensure performance targets like LCP and TTFB are met (REQ-1-050).", 'provider': 'OpenTelemetry for Web', 'features': ['Captures Core Web Vitals, including Largest Contentful Paint (LCP) and Time to First Byte (TTFB).', 'Monitors client-side JavaScript errors and exceptions.', 'Tracks page load performance and user interactions.', 'Correlates frontend user actions with backend distributed traces for full-stack visibility.', 'Segments performance data by browser, device type, and geography.'], 'configuration': {'InstrumentationProvider': 'OpenTelemetry Web SDK included in the Next.js application.', 'DataEndpoint': 'OpenTelemetry Collector for RUM data.', 'SessionReplay': 'Disabled to comply with privacy requirements.'}}]

