<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Organism: PostComposer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* --- CSS Reset & Base --- */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { -webkit-font-smoothing: antialiased; }
    body {
      font-family: 'Inter', sans-serif;
      background-color: #F1F3F5;
      color: #212529;
      padding: 32px;
    }
    .showcase { max-width: 600px; margin: 0 auto; }
    .showcase-section { margin-bottom: 32px; }
    .showcase-section h3 { font-size: 1.5rem; margin-bottom: 16px; }
    .showcase-section p { font-size: 0.9rem; color: #6C757D; margin-bottom: 16px; }

    /* --- Design System Tokens --- */
    :root {
      --color-primary-50: #E3F2FD; --color-primary-300: #64B5F6; --color-primary-700: #1976D2; --color-primary-800: #1565C0;
      --color-neutrals-white: #FFFFFF; --color-neutrals-gray-50: #F8F9FA; --color-neutrals-gray-100: #F1F3F5; --color-neutrals-gray-200: #E9ECEF; --color-neutrals-gray-400: #CED4DA; --color-neutrals-gray-600: #6C757D; --color-neutrals-gray-900: #212529;
      --color-semantic-error: #D32F2F; --color-semantic-error-bg: #FFEBEE;
      --font-family-primary: 'Inter', sans-serif;
      --font-size-body: 1rem; --font-size-caption: 0.875rem;
      --font-weight-semibold: 600;
      --space-1: 4px; --space-2: 8px; --space-3: 16px; --space-4: 24px;
      --border-radius-md: 8px; --border-radius-lg: 12px;
      --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
    }

    /* --- Atomic & Molecular Dependencies --- */
    .card { background-color: var(--color-neutrals-white); border-radius: var(--border-radius-lg); padding: var(--space-4); box-shadow: var(--shadow-md); }
    .avatar { display: inline-block; border-radius: 50%; object-fit: cover; background-color: var(--color-neutrals-gray-200); }
    .avatar--md { width: 40px; height: 40px; }
    .btn { display: inline-flex; align-items: center; justify-content: center; gap: var(--space-2); padding: 10px 22px; border-radius: var(--border-radius-md); font-weight: var(--font-weight-semibold); text-decoration: none; cursor: pointer; transition: all 0.2s ease; border: 1px solid transparent; min-height: 44px; }
    .btn:focus-visible { outline: 2px solid var(--color-primary-300); outline-offset: 2px; }
    .btn--primary { background-color: var(--color-primary-700); color: var(--color-neutrals-white); }
    .btn--primary:hover { background-color: var(--color-primary-800); }
    .btn--primary:disabled { background-color: var(--color-neutrals-gray-200); color: var(--color-neutrals-gray-500); cursor: not-allowed; }
    .btn--icon { padding: 10px; font-size: 1.25rem; line-height: 1; color: var(--color-neutrals-gray-600); background-color: transparent; }
    .btn--icon:hover { background-color: var(--color-primary-50); }
    .alert { display: flex; align-items: flex-start; gap: var(--space-2); padding: var(--space-3); border-radius: var(--border-radius-md); font-size: var(--font-size-caption); }
    .alert--error { background-color: var(--color-semantic-error-bg); color: var(--color-semantic-error); }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    .spinner { display: inline-block; border-style: solid; border-color: currentColor; border-right-color: transparent; border-radius: 50%; animation: spin .8s linear infinite; width: 16px; height: 16px; border-width: 2px; }
    .btn--loading { cursor: wait; }
    .btn--loading .btn-text { visibility: hidden; }
    .btn .spinner { position: absolute; }
    .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(33, 37, 41, 0.6); display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all .3s ease; z-index: 1000; }
    .modal-content { transform: scale(0.95); transition: all .3s ease; }
    .modal-overlay:target { opacity: 1; visibility: visible; }
    .modal-overlay:target .modal-content { transform: scale(1); }
    .modal-close { position: absolute; top: var(--space-3); right: var(--space-3); font-size: 1.5rem; text-decoration: none; color: var(--color-neutrals-gray-600); }

    /* --- PostComposer Organism CSS --- */
    .post-composer { display: flex; flex-direction: column; gap: var(--space-3); }
    .post-composer__header { display: flex; gap: var(--space-3); align-items: flex-start; }
    .post-composer__textarea { flex-grow: 1; width: 100%; border: none; background-color: transparent; font-family: var(--font-family-primary); font-size: var(--font-size-body); line-height: 1.5; resize: none; min-height: 80px; padding: var(--space-2); }
    .post-composer__textarea:focus { outline: none; }
    .post-composer__body { padding-left: calc(40px + var(--space-3)); /* Align with header text */ }
    .post-composer__previews { display: flex; flex-direction: column; gap: var(--space-3); }
    .post-composer__image-previews { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: var(--space-2); }
    .post-composer__image-item { position: relative; aspect-ratio: 1 / 1; }
    .post-composer__image-item img { width: 100%; height: 100%; object-fit: cover; border-radius: var(--border-radius-md); }
    .post-composer__remove-image-btn { position: absolute; top: var(--space-1); right: var(--space-1); background-color: rgba(0,0,0,0.6); color: white; border-radius: 50%; width: 24px; height: 24px; padding: 0; font-size: 1rem; }
    .post-composer__link-preview { position: relative; border: 1px solid var(--color-neutrals-gray-200); border-radius: var(--border-radius-md); overflow: hidden; text-decoration: none; color: inherit; display: block; }
    .post-composer__link-preview-image { width: 100%; aspect-ratio: 16 / 9; background-color: var(--color-neutrals-gray-100); }
    .post-composer__link-preview-text { padding: var(--space-3); }
    .post-composer__link-preview-title { font-weight: var(--font-weight-semibold); margin-bottom: var(--space-1); }
    .post-composer__link-preview-domain { font-size: var(--font-size-caption); color: var(--color-neutrals-gray-600); }
    .post-composer__footer { display: flex; justify-content: space-between; align-items: center; padding-top: var(--space-3); border-top: 1px solid var(--color-neutrals-gray-100); }
    .post-composer__toolbar { display: flex; align-items: center; gap: var(--space-1); }
    .post-composer__char-counter { font-size: var(--font-size-caption); color: var(--color-neutrals-gray-600); }
    .post-composer__char-counter--error { color: var(--color-semantic-error); font-weight: var(--font-weight-semibold); }
    .post-composer.is-submitting .post-composer__textarea, .post-composer.is-submitting .btn { opacity: 0.6; pointer-events: none; }
    .post-composer--modal { width: 100%; max-width: 550px; }
    .modal-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: var(--space-3); margin-bottom: var(--space-3); border-bottom: 1px solid var(--color-neutrals-gray-200); }
    @media (max-width: 768px) {
      .modal-content.post-composer--modal { height: 100%; width: 100%; max-width: 100%; border-radius: 0; }
    }
  </style>
</head>
<body>

  <!-- SVG Icon Definitions -->
  <svg width="0" height="0" style="position: absolute; overflow: hidden;">
    <symbol id="icon-image" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></symbol>
    <symbol id="icon-link" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"></path></symbol>
    <symbol id="icon-x" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></symbol>
  </svg>

  <main class="showcase">
    <div class="showcase-section">
      <h3>Post Composer Organism</h3>
    </div>

    <!-- Inline Variant -->
    <div class="showcase-section">
      <h4>Inline Variant (Feed)</h4>
      <p>Used at the top of a feed to initiate post creation.</p>
      <div class="card post-composer post-composer--inline">
        <div class="post-composer__header">
          <img class="avatar avatar--md" src="https://i.pravatar.cc/40?u=user1" alt="Your avatar">
          <textarea class="post-composer__textarea" placeholder="What's on your mind?"></textarea>
        </div>
        <div class="post-composer__footer">
          <div class="post-composer__toolbar">
            <button class="btn btn--icon" aria-label="Add image"><svg class="icon"><use href="#icon-image"/></svg></button>
            <button class="btn btn--icon" aria-label="Add link"><svg class="icon"><use href="#icon-link"/></svg></button>
          </div>
          <button class="btn btn--primary" disabled>Post</button>
        </div>
      </div>
    </div>

    <!-- Modal Variant Trigger -->
    <div class="showcase-section">
      <h4>Modal Variant</h4>
      <p>The primary interface for creating posts, triggered from the inline variant or other actions.</p>
      <a href="#modal-composer" class="btn btn--primary">Start a Post (Open Modal)</a>
    </div>
  </main>

  <!-- Modal Implementation -->
  <div id="modal-composer" class="modal-overlay">
    <div class="card modal-content post-composer post-composer--modal">
      <div class="modal-header">
        <h3>Create a post</h3>
        <a href="#" class="modal-close" aria-label="Close">&times;</a>
      </div>
      
      <!-- Default State -->
      <div class="post-composer" id="composer-default">
        <div class="post-composer__header">
          <img class="avatar avatar--md" src="https://i.pravatar.cc/40?u=user1" alt="Your avatar">
          <textarea class="post-composer__textarea" placeholder="What's on your mind?"></textarea>
        </div>
        <div class="post-composer__footer">
          <div class="post-composer__toolbar">
            <button class="btn btn--icon" aria-label="Add image"><svg class="icon"><use href="#icon-image"/></svg></button>
            <button class="btn btn--icon" aria-label="Add link"><svg class="icon"><use href="#icon-link"/></svg></button>
          </div>
          <div class="post-composer__char-counter">0 / 3000</div>
          <button class="btn btn--primary" disabled>Post</button>
        </div>
      </div>

      <!-- With Content State -->
      <div class="post-composer" style="margin-top: 32px; border-top: 1px dashed #ccc; padding-top: 32px;">
        <p><strong>State:</strong> With Image and Link Previews</p>
        <div class="post-composer__header">
          <img class="avatar avatar--md" src="https://i.pravatar.cc/40?u=user1" alt="Your avatar">
          <textarea class="post-composer__textarea">Excited to share this article about modern web development and a few shots from the recent conference!</textarea>
        </div>
        <div class="post-composer__body">
          <div class="post-composer__previews">
            <div class="post-composer__image-previews">
              <div class="post-composer__image-item">
                <img src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-4.0.3&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400" alt="Preview 1">
                <button class="btn btn--icon post-composer__remove-image-btn" aria-label="Remove image 1"><svg class="icon"><use href="#icon-x"/></svg></button>
              </div>
              <div class="post-composer__image-item">
                <img src="https://images.unsplash.com/photo-1550439062-609e1531270e?ixlib=rb-4.0.3&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400" alt="Preview 2">
                <button class="btn btn--icon post-composer__remove-image-btn" aria-label="Remove image 2"><svg class="icon"><use href="#icon-x"/></svg></button>
              </div>
            </div>
            <div class="post-composer__link-preview">
              <button class="btn btn--icon post-composer__remove-image-btn" aria-label="Remove link preview" style="background-color: #fff; color: #000;"><svg class="icon"><use href="#icon-x"/></svg></button>
              <div class="post-composer__link-preview-image"></div>
              <div class="post-composer__link-preview-text">
                <div class="post-composer__link-preview-title">State of CSS 2023: A Deep Dive into the Latest Features</div>
                <div class="post-composer__link-preview-domain">web.dev</div>
              </div>
            </div>
          </div>
        </div>
        <div class="post-composer__footer">
          <div class="post-composer__toolbar">
            <button class="btn btn--icon" aria-label="Add image"><svg class="icon"><use href="#icon-image"/></svg></button>
            <button class="btn btn--icon" aria-label="Add link"><svg class="icon"><use href="#icon-link"/></svg></button>
          </div>
          <div class="post-composer__char-counter">105 / 3000</div>
          <button class="btn btn--primary">Post</button>
        </div>
      </div>
      
      <!-- Submitting State -->
      <div class="post-composer is-submitting" style="margin-top: 32px; border-top: 1px dashed #ccc; padding-top: 32px;">
        <p><strong>State:</strong> Submitting</p>
        <div class="post-composer__header">
          <img class="avatar avatar--md" src="https://i.pravatar.cc/40?u=user1" alt="Your avatar">
          <textarea class="post-composer__textarea">Submitting this post...</textarea>
        </div>
        <div class="post-composer__footer">
          <div class="post-composer__toolbar">
            <button class="btn btn--icon" aria-label="Add image"><svg class="icon"><use href="#icon-image"/></svg></button>
          </div>
          <button class="btn btn--primary btn--loading"><span class="spinner"></span><span class="btn-text">Post</span></button>
        </div>
      </div>

      <!-- Error State -->
      <div class="post-composer has-error" style="margin-top: 32px; border-top: 1px dashed #ccc; padding-top: 32px;">
        <p><strong>State:</strong> Error</p>
        <div class="alert alert--error">Upload failed: One of the images is too large.</div>
        <div class="post-composer__header">
          <img class="avatar avatar--md" src="https://i.pravatar.cc/40?u=user1" alt="Your avatar">
          <textarea class="post-composer__textarea" style="color: #D32F2F;">This text exceeds the character limit of 3000 characters...</textarea>
        </div>
        <div class="post-composer__footer">
          <div class="post-composer__toolbar">
            <button class="btn btn--icon" aria-label="Add image"><svg class="icon"><use href="#icon-image"/></svg></button>
          </div>
          <div class="post-composer__char-counter post-composer__char-counter--error">3001 / 3000</div>
          <button class="btn btn--primary" disabled>Post</button>
        </div>
      </div>
    </div>
  </div>

	
	<div> <h2> Component Variations</h2>
      <div>
        <h3>Variant Name : modal<h3>
		<normal> The primary, full-featured composer presented in a modal dialog for a focused writing experience. </normal>
		<div class="card modal-content post-composer post-composer--modal" style="position: static; transform: none; margin-top: 16px;">
            <div class="modal-header">
              <h3>Create a post</h3>
            </div>
            <div class="post-composer">
              <div class="post-composer__header">
                <img class="avatar avatar--md" src="https://i.pravatar.cc/40?u=user1" alt="Your avatar">
                <textarea class="post-composer__textarea" placeholder="What's on your mind?"></textarea>
              </div>
              <div class="post-composer__footer">
                <div class="post-composer__toolbar">
                  <button class="btn btn--icon" aria-label="Add image"><svg class="icon"><use href="#icon-image"></use></svg></button>
                  <button class="btn btn--icon" aria-label="Add link"><svg class="icon"><use href="#icon-link"></use></svg></button>
                </div>
                <button class="btn btn--primary" disabled="">Post</button>
              </div>
            </div>
          </div>     
		
      <div>
	 </div>
      <div>
        <h3>Variant Name : inline<h3>
		<normal> A compact, inline version typically shown at the top of a feed to initiate the post creation flow. </normal>
		<div class="card post-composer post-composer--inline" style="margin-top: 16px;">
            <div class="post-composer__header">
              <img class="avatar avatar--md" src="https://i.pravatar.cc/40?u=user1" alt="Your avatar">
              <textarea class="post-composer__textarea" placeholder="What's on your mind?"></textarea>
            </div>
            <div class="post-composer__footer">
              <div class="post-composer__toolbar">
                <button class="btn btn--icon" aria-label="Add image"><svg class="icon"><use href="#icon-image"></use></svg></button>
                <button class="btn btn--icon" aria-label="Add link"><svg class="icon"><use href="#icon-link"></use></svg></button>
              </div>
              <button class="btn btn--primary" disabled="">Post</button>
            </div>
          </div>     
		
      <div>
	 </div>    
	
	</body>
</html>